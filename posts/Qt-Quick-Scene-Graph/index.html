<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"> </script><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="Qt Framework - Qt Quick Scene Graph" /><meta property="og:locale" content="en" /><meta name="description" content="The Scene Graph in Qt Quick" /><meta property="og:description" content="The Scene Graph in Qt Quick" /><link rel="canonical" href="https://lacie-life.github.io/posts/Qt-Quick-Scene-Graph/" /><meta property="og:url" content="https://lacie-life.github.io/posts/Qt-Quick-Scene-Graph/" /><meta property="og:site_name" content="Life Zero Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-02-13T11:11:11+07:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Qt Framework - Qt Quick Scene Graph" /><meta name="twitter:site" content="@twitter_username" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-02-13T12:23:08+07:00","datePublished":"2022-02-13T11:11:11+07:00","description":"The Scene Graph in Qt Quick","headline":"Qt Framework - Qt Quick Scene Graph","mainEntityOfPage":{"@type":"WebPage","@id":"https://lacie-life.github.io/posts/Qt-Quick-Scene-Graph/"},"url":"https://lacie-life.github.io/posts/Qt-Quick-Scene-Graph/"}</script><title>Qt Framework - Qt Quick Scene Graph | Life Zero Blog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Life Zero Blog"><meta name="application-name" content="Life Zero Blog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang=""><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://live.staticflickr.com/7347/14119381583_6087a61c73_c_d.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Life Zero Blog</a></div><div class="site-subtitle font-italic">Life is hard but it's fair</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/lacie-life" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['00sao00ios00','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Qt Framework - Qt Quick Scene Graph</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"> <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"> </script><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Qt Framework - Qt Quick Scene Graph</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Life Zero </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sun, Feb 13, 2022, 11:11 AM +0700" >Feb 13, 2022<i class="unloaded">2022-02-13T11:11:11+07:00</i> </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Sun, Feb 13, 2022, 12:23 PM +0700" >Feb 13, 2022<i class="unloaded">2022-02-13T12:23:08+07:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2335 words">12 min read</span></div></div><div class="post-content"><h2 id="the-scene-graph-in-qt-quick">The Scene Graph in Qt Quick</h2><p>Qt Quick 2 makes use of a dedicated scene graph that is then traversed and rendered via a graphics API such as OpenGL ES, OpenGL, Vulkan, Metal, or Direct 3D. Using a scene graph for graphics rather than the traditional imperative painting systems (QPainter and similar), means the scene to be rendered can be retained between frames and the complete set of primitives to render is known before rendering starts. This opens up for a number of optimizations, such as batch rendering to minimize state changes and discarding obscured primitives.</p><p>For example, say a user-interface contains a list of ten items where each item has a background color, an icon and a text. Using the traditional drawing techniques, this would result in 30 draw calls and a similar amount of state changes. A scene graph, on the other hand, could reorganize the primitives to render such that all backgrounds are drawn in one call, then all icons, then all the text, reducing the total amount of draw calls to only 3. Batching and state change reduction like this can greatly improve performance on some hardware.</p><p>The scene graph is closely tied to Qt Quick 2.0 and can not be used stand-alone. The scene graph is managed and rendered by the <b> QQuickWindow </b> class and custom Item types can add their graphical primitives into the scene graph through a call to <b> QQuickItem::updatePaintNode() </b>.</p><p>The scene graph is a graphical representation of the Item scene, an independent structure that contains enough information to render all the items. Once it has been set up, it can be manipulated and rendered independently of the state of the items. On many platforms, the scene graph will even be rendered on a dedicated render thread while the GUI thread is preparing the next frame’s state.</p><h2 id="qt-quick-scene-graph-structure">Qt Quick Scene Graph Structure</h2><p>The scene graph is composed of a number of predefined node types, each serving a dedicated purpose. Although we refer to it as a scene graph, a more precise definition is node tree. The tree is built from <b> QQuickItem </b> types in the QML scene and internally the scene is then processed by a renderer which draws the scene. The nodes themselves do not contain any active drawing code nor virtual <b> paint() </b> function.</p><p>Even though the node tree is mostly built internally by the existing Qt Quick QML types, it is possible for users to also add complete subtrees with their own content, including subtrees that represent 3D models.</p><h3 id="nodes">Nodes</h3><p>The most important node for users is the <b> QSGGeometryNode </b>. It is used to define custom graphics by defining its geometry and material. The geometry is defined using <b> QSGGeometry </b> and describes the shape or mesh of the graphical primitive. It can be a line, a rectangle, a polygon, many disconnected rectangles, or complex 3D mesh. The material defines how the pixels in this shape are filled.</p><p>A node can have any number of children and geometry nodes will be rendered so they appear in child-order with parents behind their children.</p><p>The available nodes are:</p><div class="table-wrapper"><table><thead><tr><th>Type<th>Description<tbody><tr><td>QSGClipNode<td>Implements the clipping functionality in the scene graph<tr><td>QSGGeometryNode<td>Used for all rendered content in the scene graph<tr><td>QSGNode<td>The base class for all nodes in the scene graph<tr><td>QSGOpacityNode<td>Used to change opacity of nodes<tr><td>QSGTransformNode<td>Implements transformations in the scene graph</table></div><p>Custom nodes are added to the scene graph by subclassing <b> QQuickItem::updatePaintNode() </b> and setting the <b> QQuickItem::ItemHasContents </b> flag.</p><h4 id="preprocessing">Preprocessing</h4><p>Nodes have a virtual <b> QSGNode::preprocess() </b> function, which will be called before the scene graph is rendered. Node subclasses can set the flag <b> QSGNode::UsePreprocess </b> and override the <b> QSGNode::preprocess() </b> function to do final preparation of their node. For example, dividing a bezier curve into the correct level of detail for the current scale factor or updating a section of a texture.</p><h4 id="node-ownership">Node Ownership</h4><p>Ownership of the nodes is either done explicitly by the creator or by the scene graph by setting the flag <b> QSGNode::OwnedByParent </b>. Assigning ownership to the scene graph is often preferable as it simplifies cleanup when the scene graph lives outside the GUI thread.</p><h3 id="materials">Materials</h3><p>The material describes how the interior of a geometry in a <b> QSGGeometryNode </b> is filled. It encapsulates graphics shaders for the vertex and fragment stages of the graphics pipeline and provides ample flexibility in what can be achieved, though most of the Qt Quick items themselves only use very basic materials, such as solid color and texture fills.</p><p>For users who just want to apply custom shading to a QML Item type, it is possible to do this directly in QML using the <b> ShaderEffect </b> type.</p><p>Below is a complete list of material classes:</p><div class="table-wrapper"><table><thead><tr><th>Type<th>Description<tbody><tr><td>QSGFlatColorMaterial<td>Convenient way of rendering solid colored geometry in the scene graph<tr><td>QSGMaterial<td>Encapsulates rendering state for a shader program<tr><td>QSGMaterialRhiShader<td>Represents a graphics API independent shader program<tr><td>QSGMaterialShader<td>Represents an OpenGL shader program in the renderer<tr><td>QSGMaterialType<td>Used as a unique type token in combination with QSGMaterial<tr><td>QSGOpaqueTextureMaterial<td>Convenient way of rendering textured geometry in the scene graph<tr><td>QSGTextureMaterial<td>Convenient way of rendering textured geometry in the scene graph<tr><td>QSGVertexColorMaterial<td>Convenient way of rendering per-vertex colored geometry in the scene graph</table></div><h3 id="convenience-nodes">Convenience Nodes</h3><p>The scene graph API is low-level and focuses on performance rather than convenience. Writing custom geometries and materials from scratch, even the most basic ones, requires a non-trivial amount of code. For this reason, the API includes a few convenience classes to make the most common custom nodes readily available.</p><ul><li><p>QSGSimpleRectNode - a QSGGeometryNode subclass which defines a rectangular geometry with a solid color material.</p><li><p>QSGSimpleTextureNode - a QSGGeometryNode subclass which defines a rectangular geometry with a texture material.</p></ul><h2 id="scene-graph-and-rendering">Scene Graph and Rendering</h2><p>The rendering of the scene graph happens internally in the ?<b> QQuickWindow </b> class, and there is no public API to access it. There are, however, a few places in the rendering pipeline where the user can attach application code. This can be used to add custom scene graph content or to insert arbitrary rendering commands by directly calling the graphics API (OpenGL, Vulkan, Metal, etc.) that is in use by the scene graph. The integration points are defined by the render loop.</p><p>There are three render loop variants available: basic, windows, and threaded. Out of these, basic and windows are single-threaded, while threaded performs scene graph rendering on a dedicated thread. Qt attempts to choose a suitable loop based on the platform and possibly the graphics drivers in use. When this is not satisfactory, or for testing purposes, the environment variable QSG_RENDER_LOOP can be used to force the usage of a given loop. To verify which render loop is in use, enable the qt.scenegraph.general logging category.</p><h3 id="threaded-render-loop-threaded">Threaded Render Loop (“threaded”)</h3><p>On many configurations, the scene graph rendering will happen on a dedicated render thread. This is done to increase parallelism of multi-core processors and make better use of stall times such as waiting for a blocking swap buffer call. This offers significant performance improvements, but imposes certain restrictions on where and when interaction with the scene graph can happen.</p><p>The following is a simple outline of how a frame gets rendered with the threaded render loop and OpenGL. The steps are the same with other graphics APIs as well, apart from the OpenGL context specifics.</p><p><img data-proofer-ignore data-src="https://doc.qt.io/qt-5/images/sg-renderloop-threaded.png" alt="Fig.1" /></p><ol><li><p>A change occurs in the QML scene, causing <b> QQuickItem::update() </b> to be called. This can be the result of for instance an animation or user input. An event is posted to the render thread to initiate a new frame.</p><li><p>The render thread prepares to draw a new frame and initiates a block on the GUI thread.</p><li><p>While the render thread is preparing the new frame, the GUI thread calls <b> QQuickItem::updatePolish() </b> to do final touch-up of items before they are rendered.</p><li><p>GUI thread is blocked.</p><li><p>The <b> QQuickWindow::beforeSynchronizing() </b> signal is emitted. Applications can make direct connections (using <b> Qt::DirectConnection <b>) to this signal to do any preparation required before calls to <b> QQuickItem::updatePaintNode() </b>.</b></b></p><li><p>Synchronization of the QML state into the scene graph. This is done by calling the <b> QQuickItem::updatePaintNode() </b> function on all items that have changed since the previous frame. This is the only time the QML items and the nodes in the scene graph interact.</p><li><p>GUI thread block is released.</p><li><p>The scene graph is rendered:</p><ul><li><p>The <b> QQuickWindow::beforeRendering() </b> signal is emitted. Applications can make direct connections (using <b> Qt::DirectConnection </b>) to this signal to use custom graphics API calls which will then stack visually beneath the QML scene.</p><li><p>Items that have specified <b> QSGNode::UsePreprocess </b>, will have their <b> QSGNode::preprocess() </b> function invoked.</p><li><p>The renderer processes the nodes.</p><li><p>The renderer generates states and records draw calls for the graphics API in use.</p><li><p>The <b> QQuickWindow::afterRendering() </b> signal is emitted. Applications can make direct connections (using <b> Qt::DirectConnection </b>) to this signal to issue custom graphics API calls which will then stack visually over the QML scene.</p><li><p>The frame is now ready. The buffers are swapped (OpenGL), or a present command is recorded and the command buffers are submitted to a graphics queue (Vulkan, Metal). <b> QQuickWindow::frameSwapped() </b> is emitted.</p></ul><li><p>While the render thread is rendering, the GUI is free to advance animations, process events, etc.</p></ol><p>The threaded renderer is currently used by default on Windows with opengl32.dll, Linux excluding Mesa llvmpipe, macOS with Metal, mobile platforms, and Embedded Linux with EGLFS, and with Vulkan regardless of the platform, but this is subject to change. It is always possible to force use of the threaded renderer by setting QSG_RENDER_LOOP=threaded in the environment.</p><h3 id="non-threaded-render-loops-basic-and-windows">Non-threaded Render Loops (“basic” and “windows”)</h3><p>The non-threaded render loop is currently used by default on Windows with ANGLE or a non-default opengl32 implementation, macOS with OpenGL, and Linux with some drivers. For the latter this is mostly a precautionary measure, as not all combinations of OpenGL drivers and windowing systems have been tested. At the same time implementations like ANGLE or Mesa llvmpipe are not able to function properly with threaded rendering at all so not using threaded rendering is essential for these.</p><p>On macOS and OpenGL, the threaded render loop is not supported when building with XCode 10 (10.14 SDK) or later, since this opts in to layer-backed views on macOS 10.14. You can build with Xcode 9 (10.13 SDK) to opt out of layer-backing, in which case the threaded render loop is available and used by default. There is no such restriction with Metal.</p><p>By default windows is used for non-threaded rendering on Windows with ANGLE, while basic is used for all other platforms when non-threaded rendering is needed.</p><p>Even when using the non-threaded render loop, you should write your code as if you are using the threaded renderer, as failing to do so will make the code non-portable.</p><p>The following is a simplified illustration of the frame rendering sequence in the non-threaded renderer.</p><p><img data-proofer-ignore data-src="https://doc.qt.io/qt-5/images/sg-renderloop-singlethreaded.png" alt="Fig.2" /></p><h4 id="custom-control-over-rendering-with-qquickrendercontrol">Custom control over rendering with QQuickRenderControl</h4><p>When using <b> QQuickRenderControl </b>, the responsibility for driving the rendering loop is transferred to the application. In this case no built-in render loop is used. Instead, it is up to the application to invoke the polish, synchronize and rendering steps at the appropriate time. It is possible to implement either a threaded or non-threaded behavior similar to the ones shown above.</p><h4 id="mixing-scene-graph-and-the-native-graphics-api">Mixing Scene Graph and the native graphics API</h4><p>The scene graph offers two methods for integrating application-provided graphics commands: by issuing OpenGL, Vulkan, Metal, etc. commands directly, and by creating a textured node in the scene graph.</p><p>By connecting to the <b> QQuickWindow::beforeRendering() </b> and <b> QQuickWindow::afterRendering() </b> signals, applications can make OpenGL calls directly into the same context as the scene graph is rendering to. With APIs like Vulkan or Metal, applications can query native objects, such as, the scene graph’s command buffer, via QSGRendererInterface, and record commands to it as they see fit. As the signal names indicate, the user can then render content either under a Qt Quick scene or over it. The benefit of integrating in this manner is that no extra framebuffer nor memory is needed to perform the rendering, and a possibly expensive texturing step is eliminated. The downside is that Qt Quick decides when to call the signals and this is the only time the OpenGL application is allowed to draw.</p><h4 id="custom-items-using-qpainter">Custom Items using QPainter</h4><p>The <b> QQuickItem </b> provides a subclass, <b> QQuickPaintedItem </b>, which allows the users to render content using <b> QPainter </b>.</p><h3 id="logging-support">Logging Support</h3><p>The scene graph has support for a number of logging categories. These can be useful in tracking down both performance issues and bugs in addition to being helpful to Qt contributors.</p><ul><li>qt.scenegraph.time.texture - logs the time spent doing texture uploads<li>qt.scenegraph.time.compilation - logs the time spent doing shader compilation<li>qt.scenegraph.time.renderer - logs the time spent in the various steps of the renderer<li>qt.scenegraph.time.renderloop - logs the time spent in the various steps of the render loop<li>qt.scenegraph.time.glyph - logs the time spent preparing distance field glyphs<li>qt.scenegraph.general - logs general information about various parts of the scene graph and the graphics stack<li>qt.scenegraph.renderloop - creates a detailed log of the various stages involved in rendering. This log mode is primarily useful for developers working on Qt.</ul><p>The legacy QSG_INFO environment variable is also available. Setting it to a non-zero value enables the qt.scenegraph.general category.</p><h2 id="scene-graph-backend">Scene Graph Backend</h2><p>In addition to the public API, the scene graph has an adaptation layer which opens up the implementation to do hardware specific adaptations. This is an undocumented, internal and private plugin API, which lets hardware adaptation teams make the most of their hardware. It includes:</p><ul><li>Custom textures; specifically the implementation of <b> QQuickWindow::createTextureFromImage </b> and the internal representation of the texture used by <b> Image </b> and <b> BorderImage </b> types.<li>Custom renderer; the adaptation layer lets the plugin decide how the scene graph is traversed and rendered, making it possible to optimize the rendering algorithm for a specific hardware or to make use of extensions which improve performance.<li>Custom scene graph implementation of many of the default QML types, including its text and font rendering.<li>Custom animation driver; allows the animation system to hook into the low-level display vertical refresh to get smooth rendering.<li>Custom render loop; allows better control over how QML deals with multiple windows.</ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/skill/'>Skill</a>, <a href='/categories/software/'>Software</a>, <a href='/categories/qt/'>Qt</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/tutorial/" class="post-tag no-text-decoration" >tutorial</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Qt Framework - Qt Quick Scene Graph - Life Zero Blog&url=https://lacie-life.github.io/posts/Qt-Quick-Scene-Graph/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Qt Framework - Qt Quick Scene Graph - Life Zero Blog&u=https://lacie-life.github.io/posts/Qt-Quick-Scene-Graph/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Qt Framework - Qt Quick Scene Graph - Life Zero Blog&url=https://lacie-life.github.io/posts/Qt-Quick-Scene-Graph/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink('', 'Link copied successfully!')" data-toggle="tooltip" data-placement="top" title="Copy link"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/ZED2-and-ORB-SLAM3/">ZED2 with ORB-SLAM3 (Stereo-IMU mode) step-by-step</a><li><a href="/posts/Callback-Function-in-C++/">Designing Callbacks in C++</a><li><a href="/posts/ML-for-3D-Geometry-4/">ML for 3D Geometry - Part 4</a><li><a href="/posts/ML-for-3D-Geometry-5/">ML for 3D Geometry - Part 5</a><li><a href="/posts/ML-for-3D-Geometry-10/">ML for 3D Geometry - Part 10</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/tutorial/">tutorial</a> <a class="post-tag" href="/tags/machine-learning/">Machine Learning</a> <a class="post-tag" href="/tags/theory/">Theory</a> <a class="post-tag" href="/tags/writting/">writting</a> <a class="post-tag" href="/tags/project/">Project</a> <a class="post-tag" href="/tags/note/">note</a> <a class="post-tag" href="/tags/collection/">collection</a> <a class="post-tag" href="/tags/cuda/">CUDA</a> <a class="post-tag" href="/tags/opencv/">openCV</a> <a class="post-tag" href="/tags/paper/">paper</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Project-Management-1/"><div class="card-body"> <span class="timeago small" >Jan 29, 2022<i class="unloaded">2022-01-29T11:11:11+07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Project Management Handbook - Introductioin</h3><div class="text-muted small"><p> WHAT IS SOFTWARE DEVELOPMENT? Software development refers to the creation of computer programs and websites. Computer programs are sets of instructions executed (performed) by computers for a part...</p></div></div></a></div><div class="card"> <a href="/posts/Project-Management-2/"><div class="card-body"> <span class="timeago small" >Jan 30, 2022<i class="unloaded">2022-01-30T11:11:11+07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Project Management Handbook - Popular Project Management Terms</h3><div class="text-muted small"><p> EXECUTIVE SUMMARIES An executive summary (also called a management summary) is a short document that is created for various business purposes. Executive summaries can be used to outline longer rep...</p></div></div></a></div><div class="card"> <a href="/posts/Project-Management-3/"><div class="card-body"> <span class="timeago small" >Jan 31, 2022<i class="unloaded">2022-01-31T11:11:11+07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Project Management Handbook - Project Management Life Cycle</h3><div class="text-muted small"><p> INITIATION The first stage in the project management life cycle is the initiation or conception stage. The initiation phase can include: Meeting with the client to nail down their needs and w...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/DevOps-7/" class="btn btn-outline-primary" prompt="Older"><p>DevOps - The Future of DevOps</p></a> <a href="/posts/NVDLA-Primer/" class="btn btn-outline-primary" prompt="Newer"><p>NVDLA Primer</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/username">Life Zero</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/tutorial/">tutorial</a> <a class="post-tag" href="/tags/machine-learning/">Machine Learning</a> <a class="post-tag" href="/tags/theory/">Theory</a> <a class="post-tag" href="/tags/writting/">writting</a> <a class="post-tag" href="/tags/project/">Project</a> <a class="post-tag" href="/tags/note/">note</a> <a class="post-tag" href="/tags/collection/">collection</a> <a class="post-tag" href="/tags/cuda/">CUDA</a> <a class="post-tag" href="/tags/opencv/">openCV</a> <a class="post-tag" href="/tags/paper/">paper</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://lacie-life.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
